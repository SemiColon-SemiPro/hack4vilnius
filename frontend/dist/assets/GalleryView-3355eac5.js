import{h as v,E as g}from"./jspdf.es.min-1999fca1.js";import{d as _,r as f,b as y,o as l,c as r,a,F as d,e as h,f as b}from"./index-d7ef039c.js";const w=a("h1",{class:"gallery-title"},"Our Past offers",-1),k={class:"saved"},C=["id"],L=["innerHTML"],D={class:"btn-container"},M=["onClick"],P=["onClick"],S=_({__name:"galleryCo",setup(u){const n=f([]);y(()=>{console.log("Mounting Gallery Component");const t=Object.keys(localStorage).reverse();console.log("All keys in localStorage:",t);const o=t.filter(e=>e.startsWith("pdfPreviewHTML-"));o.sort((e,s)=>Number(s.split("-")[1])-Number(e.split("-")[1])),n.value=o.map(e=>({id:e,data:localStorage.getItem(e)||""})),console.log("Stored HTML List:",n.value)});async function c(t){const o=document.getElementById(t);if(!o){console.error(`Parent div with id "${t}" not found.`);return}const e=o.querySelector("#pdf-preview");if(!e){console.error('Element with id "pdf-preview" not found.');return}const s=await v(e,{scale:6}),i=new g("p","mm","a4"),p=s.toDataURL("image/png");i.addImage(p,"PNG",0,0,210,297),i.save(`downloaded-${t}.pdf`)}const m=t=>{localStorage.removeItem(t),n.value=n.value.filter(o=>o.id!==t)};return(t,o)=>(l(),r(d,null,[w,a("div",k,[(l(!0),r(d,null,h(n.value,e=>(l(),r("div",{key:e.id,id:e.id},[a("div",{innerHTML:e.data},null,8,L),a("div",D,[a("button",{class:"gallery-btn add-button",onClick:s=>c(e.id)}," Download ",8,M),a("button",{class:"gallery-btn remove-button",onClick:s=>m(e.id)},"Delete",8,P)])],8,C))),128))])],64))}});const x=_({__name:"GalleryView",setup(u){return(n,c)=>(l(),b(S))}});export{x as default};
