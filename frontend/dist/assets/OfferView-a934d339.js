import{d as T,g as E,o as i,c as u,F as w,e as C,a as e,t as l,h as c,i as B,r as h,j as U,n as q,w as f,v as g,k as M,l as x}from"./index-d7ef039c.js";import{E as R,h as G}from"./jspdf.es.min-1999fca1.js";const Y={id:"table-preview"},j=e("th",null,"Commitment",-1),H=e("th",null,"Quantity",-1),J=e("th",null,"Total price",-1),K={class:"commitement"},Q={class:"price"},W={class:"qt"},z={class:"price-final"},X={key:0},Z={class:"commitement"},ee={class:"price discounted"},te={class:"qt"},ne={class:"price-final discounted"},oe={class:"total-price-container"},se={key:0,class:"show",id:"total-price"},le={class:"total-price"},ae={key:0,class:"show total-price",id:"total-price-discounted"},ie={class:"discounted bundle"},ue={class:"discounted"},de=T({__name:"tablePrev",props:{products:{},bundleDiscountTotal:{}},setup(P){const{products:d,bundleDiscountTotal:v}=P,p=E(()=>d.some(r=>r.tiers.length>1));console.log(v.discountAmount);const b=E(()=>d.reduce((r,o)=>{let t=0;return o.tiers.forEach(n=>{const k=typeof n.discount=="number"&&n.discount>0?n.price*(1-n.discount/100):n.price;t+=Math.round(n.quantity*k)}),r+t},0));return(r,o)=>(i(),u("section",Y,[(i(!0),u(w,null,C(r.products,t=>(i(),u("div",{key:"product-"+t.id},[e("h2",null,l(t.name),1),e("table",null,[e("thead",null,[e("tr",null,[j,e("th",null," Price per "+l(t.name.includes("Dedicated")?"IPs":t.name.includes("API")?"K req.":"GBs"),1),H,J])]),e("tbody",null,[(i(!0),u(w,null,C(t.tiers,n=>(i(),u(w,{key:"tier-"+n.id},[e("tr",null,[e("td",K,l(t.commitment),1),e("td",Q,l(n.price)+" USD",1),e("td",W,l(n.quantity)+" "+l(t.name.includes("Dedicated")?"IPs":t.name.includes("API")?"K req.":"GBs"),1),e("td",z,l(Math.round(n.quantity*n.price))+" USD",1)]),n.discount&&n.discount!==0?(i(),u("tr",X,[e("td",Z,"Contract("+l(n.discount)+"% Off)",1),e("td",ee,l((n.price*(1-n.discount/100)).toFixed(2))+" USD ",1),e("td",te,l(n.quantity)+" "+l(t.name.includes("Dedicated")?"IPs":t.name.includes("API")?"K req.":"GBs"),1),e("td",ne,l(Math.round(n.quantity*n.price*(1-n.discount/100)))+" USD ",1)])):B("",!0)],64))),128))])])]))),128)),e("div",oe,[b.value>0&&!p.value?(i(),u("div",se,[e("div",null,[e("h2",le,"Total: "+l(b.value)+" USD",1)]),b.value>0&&r.bundleDiscountTotal.isBundleDiscount?(i(),u("div",ae,[e("h2",null,[c(" Total "),e("span",ie,"("+l(r.bundleDiscountTotal.discountAmount)+"% Off)",1),c(": "),e("span",ue,l(r.bundleDiscountTotal.discountAmount>0?Math.round(b.value*(1-r.bundleDiscountTotal.discountAmount/100)):b.value)+" USD ",1)])])):B("",!0)])):B("",!0)])]))}});const ce={id:"footer-pdf"},re=e("label",{class:"website"},[c("Website:"),e("a",{href:"https://smartproxy.com/"}," smartproxy.com")],-1),me={class:"email"},_e={class:"phone"},pe=e("label",{class:"address"},"Address: Antakalnio g. 17, Vilnius, LT",-1),ve=T({__name:"previewFooter",props:{email:{},phone:{}},setup(P){return(d,v)=>(i(),u("div",ce,[re,e("label",me,"Contact Email: "+l(d.email),1),e("label",_e,"Contact Phone: "+l(d.phone),1),pe]))}});const be={id:"top"},he={id:"issue-date"},ye={id:"bold"},fe={id:"valid-until"},De={id:"bold"},$e=e("h1",{id:"co"},[c("Commercial Proposal "),e("br"),c("to")],-1),ge={id:"client-name"},we=T({__name:"previewCo",props:{name:{},email:{},products:{},bg:{type:Boolean},phone:{},bundleDiscountTotal:{}},setup(P){const d=h(new Date),v=o=>["January","February","March","April","May","June","July","August","September","October","November","December"][o],p=h(new Date(d.value.getTime()));p.value.setDate(p.value.getDate()+14);const b=h(`${v(d.value.getMonth())} ${d.value.getDate()}, ${d.value.getFullYear()}`),r=h(`${v(p.value.getMonth())} ${p.value.getDate()}, ${p.value.getFullYear()}`);return(o,t)=>(i(),u("div",{class:q({background:o.bg}),id:"pdf-preview"},[e("section",be,[e("label",he,[c("Issued: "),e("span",ye,l(b.value),1)]),e("label",fe,[c("Valid untill: "),e("span",De,l(r.value),1)])]),$e,e("label",ge,l(o.name),1),U(de,{products:o.products,bundleDiscountTotal:o.bundleDiscountTotal},null,8,["products","bundleDiscountTotal"]),U(ve,{email:o.email,products:o.products,phone:o.phone},null,8,["email","products","phone"])],2))}});const Pe={id:"btn-dwn"},ke=T({__name:"pdfOperations",setup(P){async function d(o,t=1){const n=document.getElementById(o);if(!n)throw new Error(`Element with ID "${o}" not found.`);return await G(n,{scale:t})}function v(){return"pdfPreviewHTML-"+Date.now().toString()}function p(o){const t=document.getElementById("pdf-preview");t&&localStorage.setItem(o,t.outerHTML)}async function b(){const o=await d("pdf-preview",6),t=new R("p","mm","a4"),n=o.toDataURL("image/png");t.addImage(n,"PNG",0,0,210,297),t.save("download.pdf"),p(v())}async function r(){const o=await d("pdf-preview",6),t=document.createElement("a");t.download="download.png",t.href=o.toDataURL("image/png"),t.click(),p(v())}return(o,t)=>(i(),u("div",Pe,[e("button",{class:"add-button download-button",id:"pdf-button",type:"button",onClick:b}," Download PDF "),e("button",{class:"add-button download-button",id:"png-button",type:"button",onClick:r}," Download PNG ")]))}});const Te={id:"input-form"},Ce=e("h1",{class:"infor-title"},"Offer Details:",-1),Ue={class:"initial-info"},Ae={for:"name"},Ve={for:"email"},Be={for:"phone"},Ee={class:"box"},Se=["onUpdate:modelValue"],Me=["value"],qe={class:"label-container"},Ne={id:"product-label"},Le=["onUpdate:modelValue"],Oe=["onUpdate:modelValue"],Fe={class:"no-show"},Ie=["onUpdate:modelValue","id"],xe={class:"remove-tier-btn-container"},Re=["onClick","id"],Ge=["onClick"],Ye={class:"lower-btns"},je=["onClick"],He=["onClick"],Je={id:"corner-cases"},Ke={for:"bg"},Qe={for:"bundle"},We=T({__name:"clientInfo",setup(P){const d=h(["Select a Product","Residential Proxies","Data Center proxies","Dedicated Data Center Proxies","Site Unblocker","E-commerce API","Web Scraping API","Social Media API"]),v=h("Neobi Inc."),p=h("alex@smartproxy.com"),b=h("+37066253406"),r=h(d.value[0]),o=h(0),t=h(!1);let n=1,k=1;const S=E(()=>({isBundleDiscount:t.value,discountAmount:o.value})),D=h([{id:n++,name:r.value,commitment:"No Commitment",tiers:[{id:k++,price:0,quantity:0,discount:0}]}]),V=h(!0),N=(y,a)=>{D.value[y].tiers.splice(a,1)},L=(y,a)=>{const s=document.getElementById(`discount-${y}-${a}`),m=document.getElementById(`discountButton-${y}-${a}`);s&&s.parentElement&&(s.parentElement.classList.contains("no-show")?(s.parentElement.classList.remove("no-show"),m&&(m.textContent="Remove Discount",m.classList.add("remove-button"),m.classList.remove("add-button"))):(s.parentElement.classList.add("no-show"),m&&(m.textContent="Add Discount",m.classList.remove("remove-button"),m.classList.add("add-button"),D.value[y].tiers[a].discount=0)))},O=y=>{const a={id:k++,price:0,quantity:0,discount:0};D.value[y].tiers.push(a)},F=()=>{D.value.push({id:n++,name:d.value[0],commitment:"No Commitment",tiers:[{id:k++,price:0,quantity:0,discount:0}]})},I=y=>{D.value.splice(y,1)};return(y,a)=>(i(),u(w,null,[e("form",Te,[Ce,e("div",Ue,[e("label",Ae,[c("Client Name: "),f(e("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>v.value=s),id:"name",type:"text"},null,512),[[g,v.value]])]),e("label",Ve,[c("Your Email: "),f(e("input",{"onUpdate:modelValue":a[1]||(a[1]=s=>p.value=s),id:"email",type:"email"},null,512),[[g,p.value]])]),e("label",Be,[c("Your Phone: "),f(e("input",{"onUpdate:modelValue":a[2]||(a[2]=s=>b.value=s),id:"phone",type:"text"},null,512),[[g,b.value]])])]),(i(!0),u(w,null,C(D.value,(s,m)=>(i(),u("div",{class:"product",key:"product-"+s.id},[e("label",Ee,[f(e("select",{class:"product-options","onUpdate:modelValue":_=>s.name=_},[(i(!0),u(w,null,C(d.value,_=>(i(),u("option",{value:_,key:_},l(_),9,Me))),128))],8,Se),[[x,s.name]])]),(i(!0),u(w,null,C(s.tiers,(_,A)=>(i(),u("div",{class:"tier-box",key:"tier-"+_.id},[e("div",qe,[e("label",Ne,[c(" Price/unit (USD): "),f(e("input",{id:"price","onUpdate:modelValue":$=>_.price=$,type:"number",min:"0"},null,8,Le),[[g,_.price,void 0,{number:!0}]])]),e("label",null,[c(" Quantity: "),f(e("input",{id:"q-ty","onUpdate:modelValue":$=>_.quantity=$,type:"number",min:"0"},null,8,Oe),[[g,_.quantity,void 0,{number:!0}]])]),e("label",Fe,[c(" Discount: "),f(e("input",{"onUpdate:modelValue":$=>_.discount=$,id:`discount-${m}-${A}`,type:"number",max:"99",placeholder:"0"},null,8,Ie),[[g,_.discount,void 0,{number:!0}]])])]),e("div",xe,[e("button",{class:"add-button button-shared",onClick:$=>L(m,A),type:"button",id:`discountButton-${m}-${A}`}," Add Discount ",8,Re),e("button",{class:"remove-button button-shared",onClick:$=>N(m,A)}," Remove Tier ",8,Ge)])]))),128)),e("div",Ye,[e("button",{class:"add-button button-shared",type:"button",onClick:_=>O(m)}," Add tier ",8,je),e("button",{class:"remove-button button-shared",onClick:_=>I(m)}," Remove Product ",8,He)])]))),128)),e("button",{class:"add-button dwn-button",type:"button",onClick:F},"Add Product"),e("div",Je,[e("label",Ke,[c("Standard Background: "),f(e("input",{id:"bg",type:"checkbox","onUpdate:modelValue":a[3]||(a[3]=s=>V.value=s)},null,512),[[M,V.value]])]),e("label",Qe,[c("Add bundle Discount: "),f(e("input",{id:"bundle-discount",type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=s=>t.value=s)},null,512),[[M,t.value]]),e("div",{class:q({"no-show":!S.value.isBundleDiscount})},[e("label",null,[c("Discount: "),f(e("input",{"onUpdate:modelValue":a[5]||(a[5]=s=>o.value=s),id:"bundleDiscountAmount",type:"number",placeholder:"0"},null,512),[[g,o.value,void 0,{number:!0}]])])],2)])]),U(ke)]),U(we,{name:v.value,email:p.value,products:D.value,bg:V.value,phone:b.value,bundleDiscountTotal:S.value},null,8,["name","email","products","bg","phone","bundleDiscountTotal"])],64))}});const ze={id:"display"},et=T({__name:"OfferView",setup(P){return(d,v)=>(i(),u("main",null,[e("div",ze,[U(We)])]))}});export{et as default};
